var ecpmband_ads_host_overridden="//www.ellads.com";
var ecpmband_key,ecpmband_channel,ecpmband_code_format,ecpmband_ads_host,ecpmband_ads_host_overridden,ecpmband_click,ecpmband_custom_params,ecpmband_width,ecpmband_height,ecpmband_target_id,ecpmband_template_target_id,ecpmband_transaction_id,ecpmband_dsp,inDapIF,EcpmbandConfig,EcpmbandAdsConfig=EcpmbandConfig,CustomWLAdServer=CustomWLAdServer||{requests:[]};
CustomWLAdServer.sendbackPlacementKeyFromRequests=function(a){var b=CustomWLAdServer;if(b.requests&&0<b.requests.length&&b.passbackCallbacks&&b.passbackCallbacks["v2-"+a])for(var c in b.passbackCallbacks["v2-"+a]){var d=b.findRepReqByKey(c);(d=d&&(d.ecpmband_target_id||d.elemId))&&document.getElementById(d)&&b.doPostMessageFuncIntoIFrames(document.getElementById(d),"customwl.plkey.for.banner"+a+"\x3d"+c)}};
try{var messageEventListener=function(a){if(a&&a.data&&"string"===typeof a.data){if(0==a.data.indexOf("rrImpl")){try{eval("CustomWLAdServer."+a.data)}catch(g){console.warn(g)}return!0}if(0==a.data.indexOf("sendRequestInfo:")){var b=a.data.substring(16),b=CustomWLAdServer.findRepReqByKey(b);if(null!=b)return b.elemId&&document.getElementById(b.elemId)&&document.getElementById(b.elemId).contentWindow&&document.getElementById(b.elemId).contentWindow.postMessage("requestInfoMessage:"+JSON.stringify(b),
"*"),!0}if(0===a.data.indexOf("customwl.plkey.request.for.banner\x3d")){var b=a.data.split("\x3d")[1],c=CustomWLAdServer,d=c.passbackCallbacks&&c.passbackCallbacks["v2-"+b];if(d)if(1==Object.keys(d).length)d[Object.keys(d)[0]]();else c.sendbackPlacementKeyFromRequests(b)}if(0==a.data.indexOf("requestInfoMessage:")){try{var e=JSON.parse(a.data.substring(19));e.ecpmband_code_format="ads-async.js";var f=e.ecpmband_key?CustomWLAdServer.findRepReqByKey(e.ecpmband_key):null;if(f)for(var h in e)f[h]=e[h];else e.ecpmband_target_id||
(e.ecpmband_target_id="epom-"+e.ecpmband_key+(e.ecpmband_width?"-"+e.ecpmband_width+"x"+e.ecpmband_height:"")),CustomWLAdServer.requests.push(e)}catch(g){console.warn(g)}return!0}}return!1};CustomWLAdServer.windowListener||(CustomWLAdServer.windowListener=messageEventListener,window.addEventListener?window.addEventListener("message",messageEventListener):window.attachEvent&&window.attachEvent("message",messageEventListener));if("undefined"===typeof CustomWLAdServer.requests||null==CustomWLAdServer.requests)CustomWLAdServer.requests=
[]}catch(a){console.warn(a)}"undefined"!==typeof ecpmband_ads_host_overridden&&(ecpmband_ads_host=ecpmband_ads_host_overridden);var console=window.console||{warn:function(){}};
CustomWLAdServer.doPostMessageFuncIntoIFrames=function(a,b){if(a)if(a.frames){a.postMessage&&a.postMessage(b,"*");for(var c=0;a&&a.frames&&c<a.frames.length;c++)CustomWLAdServer.doPostMessageFuncIntoIFrames(a.frames[c],b)}else if("IFRAME"===a.tagName)for(var c=document.getElementsByTagName("iframe"),d=0;d<c.length;d++){if(a==c.item(d)){self.frames&&self.frames[d]&&self.frames[d].postMessage&&(self.frames[d].postMessage(b,"*"),CustomWLAdServer.doPostMessageFuncIntoIFrames(self.frames[d],b));break}}else if("DIV"===
a.tagName)for(a=a.getElementsByTagName("IFRAME"),c=0;a&&c<a.length;c++)CustomWLAdServer.doPostMessageFuncIntoIFrames(a[c],b)};CustomWLAdServer.onReady=function(a){window.addEventListener?window.addEventListener("DOMContentLoaded",a,!1):window.attachEvent("onload",a)};CustomWLAdServer.addCampaignId=function(a){if("undefined"===typeof this.campaignIds)this.campaignIds=a;else try{null==(new RegExp("(^|,)"+a+"($|,)")).exec(this.campaignIds)&&(this.campaignIds+=","+a)}catch(b){this.campaignIds+=","+a}};
CustomWLAdServer.getCampaignIds=function(){return this.campaignIds||""};CustomWLAdServer.getPageIdentifier=function(){return window.performance&&window.performance.timing&&window.performance.timing.domainLookupEnd||0};
CustomWLAdServer.rrImpl=function(a,b,c,d){a=this.findRepReqByKey(a);if(null!=a){for(var e in c)a[e]=c[e];b&&(a.excluded=a.excluded||[],"CURRENT"==d?a.excluded=[b]:"ALL"==d&&-1==a.excluded.indexOf(b)?(a.excluded.push(b),100<a.excluded.length&&a.excluded.splice(0,1)):a.excluded=[]);a.repeated=!0;a.invoker?(new a.invoker(a)).invoke():(new EcpmbandInvokeServer(a)).invoke();return!0}return!1};
CustomWLAdServer.findRepReqByKey=function(a){if(this.requests)for(var b=0;b<this.requests.length;b++)for(var c in this.requests[b])if(c&&c.indexOf&&c.indexOf("_key")==c.length-4&&this.requests[b][c]===a)return this.requests[b];return null};CustomWLAdServer.repeatRequest=function(a,b,c,d){return CustomWLAdServer.rrImpl(a,b,c,d)};CustomWLAdServer.isFF=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("firefox")};
CustomWLAdServer.canWrite=function(){if("loading"!=document.readyState)return!1;var a="r"+Math.random().toString(36).substr(2);document.write('\x3cp id\x3d"'+a+'"\x3e\x3c/p\x3e');return(a=document.getElementById(a))?(a.parentNode.removeChild(a),!0):!1};
CustomWLAdServer.getEcpmbandCookiesFromLocalStorage=function(){try{if("localStorage"in window&&null!==window.localStorage&&null!==localStorage&&"undefined"!==typeof localStorage&&"undefined"!==typeof localStorage.EcpmbandCookies){var a=[],b=JSON.parse(localStorage.EcpmbandCookies),c;for(c in b)a.push(c+"\x3d"+b[c]);return 0==a.length?"":"\x26"+a.join("\x26")}}catch(d){}return""};
CustomWLAdServer.testElms=function(a){if(void 0!==a){a=document.getElementById(a);var b=a.childNodes,c;a.style.cssText+="height:0;margin:0;padding:0;border:0;background:transparent;font-size:0;";for(var d=b.length-1;0<=d;d--){var e=b[d];if(void 0!==e.tagName)if("style"==e.tagName.toLowerCase()||"script"==e.tagName.toLowerCase())c=!1;else{if(e=(window.getComputedStyle?getComputedStyle(e,""):e.currentStyle).position,"static"==e||"relative"==e||!e){c=!0;break}}else if("#text"==e.nodeName&&0<e.nodeValue.replace(/^\s+|\s+$/g,
"").length){c=!0;break}}c&&(a.style.height="auto",a.style.fontSize="")}};
CustomWLAdServer.execBodyScripts=function(a,b){function c(a,b){if(a){var d,e;if(a.src){d=document.getElementsByTagName("head")[0];e=document.createElement("script");e.src=a.src;if(window.ActiveXObject){var f=!1;e.onreadystatechange=function(){f||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(f=!0,c(b.shift(),b),e.onreadystatechange=null)}}else e.onload=function(){c(b.shift(),b)};d.insertBefore(e,d.firstChild)}else{a=a.text||a.textContent||a.innerHTML||"";d=document.getElementsByTagName("head")[0]||
document.documentElement;e=document.createElement("script");e.type="text/javascript";try{e.appendChild(document.createTextNode(a))}catch(k){e.text=a}d.insertBefore(e,d.firstChild);c(b.shift(),b)}}}b=[];a=a.getElementsByTagName("*");var d,e;for(e=0;a[e];e++)d=a[e],!d.nodeName||"SCRIPT"!==d.nodeName.toUpperCase()||d.type&&"text/javascript"!==d.type.toLowerCase()||b.push(d);c(b.shift(),b)};
var EcpmbandInvokeServer=function(a){this.type=a.ecpmband_code_format;this.key=a.ecpmband_key;this.elemId=a.elemId;this.repeated=a.repeated;this.channel="undefined"===typeof a.ecpmband_channel?"":a.ecpmband_channel;this.click="undefined"===typeof a.ecpmband_click?"":a.ecpmband_click;this.params="undefined"===typeof a.ecpmband_custom_params?{}:a.ecpmband_custom_params;this.target_id="undefined"===typeof a.ecpmband_target_id?null:a.ecpmband_target_id;this.template_target_id="undefined"===typeof a.ecpmband_template_target_id?null:a.ecpmband_template_target_id;
this.transaction_id="undefined"===typeof a.ecpmband_transaction_id?null:a.ecpmband_transaction_id;this.dsp="undefined"===typeof a.ecpmband_dsp?null:a.ecpmband_dsp;this.ads_host="undefined"===typeof a.ecpmband_ads_host?null:a.ecpmband_ads_host;this.width="undefined"===typeof a.ecpmband_width?"":a.ecpmband_width;this.height="undefined"===typeof a.ecpmband_height?"":a.ecpmband_height;this.passbackTag=a.cuwl_passback_tag;this.excluded=a.excluded;this.referer=a.ecpmband_referer};
EcpmbandInvokeServer.prototype={isUrlRegEx:/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/i,isUrlSafeRegEx:/^[a-zA-Z0-9_-]*$/i,getScreenResolution:function(){try{return"\x26scrWidth\x3d"+window.screen.width+"\x26scrHeight\x3d"+window.screen.height}catch(a){return""}},isEncoded:function(a){try{return decodeURIComponent(a)!==a}catch(b){return!1}},toQueryString:function(a){var b=[],c;for(c in a)b.push("cp."+c+"\x3d"+(this.isEncoded(a[c])?a[c]:encodeURIComponent(a[c])));
return 0==b.length?"":"\x26"+b.join("\x26")},getHost:function(){if(this.ads_host){var a=this.params.custom_ads_host;return("https:"==location.protocol?"https:":"http:")+(a?"//"+a:this.ads_host)}for(var a=document.getElementsByTagName("script"),b,c=a.length-1;0<=c;c--){var d=a[c];if(-1!=d.src.indexOf("/js/show_ads_ecpmband.js")){b=d.src;break}}return b.substr(0,b.indexOf("/js/show_ads_ecpmband.js"))},getReqUrl:function(){return"string"==typeof this.referer&&this.isUrlRegEx.test(this.referer)?"\x26requestUrl\x3d"+encodeURIComponent(this.referer):
"string"==typeof document.URL&&this.isUrlRegEx.test(document.URL)?"\x26requestUrl\x3d"+encodeURIComponent(document.URL):""},getReqRef:function(){return"string"==typeof document.referrer&&this.isUrlRegEx.test(document.referrer)?"\x26requestRef\x3d"+encodeURIComponent(document.referrer):""},getOrigin:function(){var a=window.location.ancestorOrigins;if(!a||!a.length)return"";var b=a[a.length-1];return a?"\x26o\x3d"+encodeURIComponent(b?b:""):""},isInDapIF:function(){return"undefined"!==typeof inDapIF&&
!!inDapIF},getFlashVer:function(){var a,b,c;if(navigator.plugins&&0<navigator.plugins.length){a=navigator.plugins;for(var d=0;d<a.length&&!c;d++)b=a[d],-1<b.name.indexOf("Shockwave Flash")&&(c=b.description.split("Shockwave Flash ")[1])}else{b="ShockwaveFlash.ShockwaveFlash";try{a=new ActiveXObject(b+".7"),c=a.GetVariable("$version")}catch(e){}if(!c)try{a=new ActiveXObject(b+".6"),c="WIN 6,0,21,0",a.AllowScriptAccess="always",c=a.GetVariable("$version")}catch(e){}if(!c)try{a=new ActiveXObject(b),
c=a.GetVariable("$version")}catch(e){}c&&(c=c.split(" ")[1].split(","),c=c[0]+"."+c[1]+" r"+c[2])}return c?c:"-"},getWidth:function(){return parseInt(this.width,10)||320},getHeight:function(){return parseInt(this.height,10)||50},getDsp:function(){return this.dsp?this.param("dsp.eId",this.dsp.eId)+this.param("dsp.cId",this.dsp.cId)+this.param("dsp.wp",this.dsp.wp)+this.param("dsp.mp",this.dsp.mp)+this.param("dsp.w",this.dsp.w)+this.param("dsp.h",this.dsp.h):""},param:function(a,b){return b?"\x26"+
a+"\x3d"+encodeURIComponent(b):""},getKey:function(){return this.param("key",this.key)},getUrl:function(a){var b="";if(this.excluded)for(j in this.excluded)b+="\x26excluded\x3d"+this.excluded[j];return this.getHost()+"/"+this.type+"?v\x3d1"+this.getKey()+(a?a:"")+"\x26ch\x3d"+(this.isEncoded(this.channel)?this.channel:encodeURIComponent(this.channel))+"\x26click\x3d"+(this.isEncoded(this.click)?this.click:encodeURIComponent(this.click))+"\x26tz\x3d"+(new Date).getTimezoneOffset()/-60+"\x26t\x3d"+
(new Date).getTime()+(this.transaction_id?"\x26ad.trans.id\x3d"+encodeURIComponent(this.transaction_id):"")+(this.passbackTag?"\x26pb\x3d"+this.passbackTag:"")+(this.repeated?"\x26rptd\x3d1":"")+this.getReqUrl()+this.getReqRef()+this.getOrigin()+this.getDsp()+"\x26flashVer\x3d"+this.getFlashVer()+"\x26inDapIF\x3d"+this.isInDapIF()+(this.getWidth()?"\x26ecpmband_width\x3d"+this.getWidth():"")+(this.getHeight()?"\x26ecpmband_height\x3d"+this.getHeight():"")+b+this.toQueryString(this.params)+CustomWLAdServer.getEcpmbandCookiesFromLocalStorage()+
this.getScreenResolution()},createIFrame:function(){var a=document.createElement("iframe");a.src=this.getUrl((this.target_id?"\x26tarId\x3d"+this.target_id:"")+(this.template_target_id?"\x26templTarId\x3d"+this.template_target_id:"")+"\x26cIds\x3d"+CustomWLAdServer.getCampaignIds()+"\x26adsCampaignKey\x3d"+CustomWLAdServer.getPageIdentifier());a.width=this.getWidth();a.height=this.getHeight();a.frameBorder="0";a.scrolling="no";a.framespacing="0";this.elemId&&(a.id=this.elemId);return a},invokeIframeSync:function(){if(this.repeated&&
this.elemId&&document.getElementById(this.elemId)){var a=document.getElementById(this.elemId);if(this.passbackTag)a.style.display="none",a.id=null,a.parentNode.insertBefore(this.createIFrame(),a);else{var b=this.getUrl();a.src=b+(-1!=b.indexOf("?")?"\x26":"?")+"iis3352_rnd\x3d"+Math.random()}}else document.body?this.appendAfterCurScript(this.createIFrame()):(a=document.createElement("div"),a.appendChild(this.createIFrame()),this.write(a.innerHTML))},appendAfterCurScript:function(a){for(i=0;i<document.scripts.length;i++)if(0<
document.scripts[i].innerHTML.indexOf(this.key))var b=document.scripts[i];b&&b.parentNode.appendChild(a,b)},invokeIframeAsync:function(){this.append(this.target_id,this.createIFrame())},append:function(a,b){var c=document.getElementById(a);if(c){for(;!this.template_target_id&&!this.passbackTag&&0<c.childNodes.length;)c.removeChild(c.childNodes[0]);for(var d=0;this.passbackTag&&d<c.childNodes.length;d++)c.childNodes[d].style?c.childNodes[d].style.display="none":c.removeChild(c.childNodes[d]);c.appendChild(b)}else this.onReady(function(){if(c=
document.getElementById(a)){for(;!this.template_target_id&&0<c.childNodes.length;)c.removeChild(c.childNodes[0]);c.appendChild(b)}else console.warn("Can't find element with id: "+a)})},onReady:function(a){CustomWLAdServer.onReady(a)},invokeAsyncFromSyncData:function(){var a=this.elemId,b;document.getElementById(a)?document.getElementById(a):(b=document.createElement("div"),b.id=a,this.appendAfterCurScript(b));this.target_id=a;this.type="ads-async.js";this.invokeJsAsyncCode()},invokeJsSyncCode:function(){var a=
this.getUrl("\x26cIds\x3d"+CustomWLAdServer.getCampaignIds()+"\x26adsCampaignKey\x3d"+CustomWLAdServer.getPageIdentifier());!CustomWLAdServer.canWrite()||this.repeated&&this.elemId&&document.getElementById(this.elemId)&&"complete"==document.readyState?this.invokeAsyncFromSyncData():this.write("\x3cdiv"+(this.elemId?" id\x3d'"+this.elemId+"'":"")+"\x3e\x3cscript type\x3d'text/javascript' src\x3d'"+a+"'\x3e\x3c/script\x3e\x3c/div\x3e")},invokeJsAsyncCode:function(){var a=document.createElement("script");
a.type="text/javascript";a.async=!0;a.src=this.getUrl("\x26tarId\x3d"+this.target_id+(this.template_target_id?"\x26templTarId\x3d"+this.template_target_id:"")+"\x26cIds\x3d"+CustomWLAdServer.getCampaignIds()+"\x26adsCampaignKey\x3d"+CustomWLAdServer.getPageIdentifier());this.append(this.target_id,a)},write:function(a){document.write(a)},invoke:function(){-1<["ads"].indexOf(this.type)&&this.target_id?this.invokeIframeAsync():-1<["ads"].indexOf(this.type)?this.invokeIframeSync():this.target_id?this.invokeJsAsyncCode():
this.invokeJsSyncCode()}};
if("undefined"!==typeof ecpmband_key&&ecpmband_key&&"undefined"!==typeof ecpmband_code_format&&ecpmband_code_format){var syncConfig={ecpmband_code_format:ecpmband_code_format,ecpmband_key:ecpmband_key,ecpmband_channel:ecpmband_channel,ecpmband_click:ecpmband_click,ecpmband_custom_params:ecpmband_custom_params,ecpmband_width:ecpmband_width,ecpmband_height:ecpmband_height,ecpmband_ads_host:ecpmband_ads_host,ecpmband_target_id:ecpmband_target_id,ecpmband_template_target_id:ecpmband_template_target_id,ecpmband_transaction_id:ecpmband_transaction_id,ecpmband_dsp:ecpmband_dsp,ecpmband_referer:"string"==typeof ecpmband_referer?
ecpmband_referer:null};syncConfig.elemId=ecpmband_key+"_sync";syncConfig.ecpmband_key=ecpmband_key;syncConfig.invoker=EcpmbandInvokeServer;CustomWLAdServer.requests.push(syncConfig);(new EcpmbandInvokeServer(syncConfig)).invoke();ecpmband_dsp=ecpmband_transaction_id=ecpmband_template_target_id=ecpmband_target_id=ecpmband_height=ecpmband_width=ecpmband_custom_params=ecpmband_click=ecpmband_ads_host=ecpmband_code_format=ecpmband_channel=ecpmband_key=void 0}else if("undefined"!==typeof EcpmbandAdsConfig&&"undefined"!==typeof EcpmbandAdsConfig.ads&&0<EcpmbandAdsConfig.ads.length){for(var EcpmbandAdsConfigWait=
[],i=0;i<EcpmbandAdsConfig.ads.length;i++)"undefined"!==typeof ecpmband_ads_host_overridden&&(EcpmbandAdsConfig.ads[i].ecpmband_ads_host=ecpmband_ads_host_overridden),EcpmbandAdsConfig.ads[i].invoker=EcpmbandInvokeServer,EcpmbandAdsConfig.ads[i].elemId=EcpmbandAdsConfig.ads[i].ecpmband_target_id+"-iframe",CustomWLAdServer.requests.push(EcpmbandAdsConfig.ads[i]),(new EcpmbandInvokeServer(EcpmbandAdsConfig.ads[i])).invoke();EcpmbandAdsConfig.ads=EcpmbandAdsConfigWait}CustomWLAdServer.TrackingEventManager=CustomWLAdServer.TrackingEventManager||{};